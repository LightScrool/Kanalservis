{"ast":null,"code":"import { ItemKeys } from \"../types\";\nimport { checkDateFormat, getDateFromString, getStringFromDate } from \"./index\";\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField преобразованные к строке, содержат в себе value*/\n\nexport const itemFilterContains = (allItems, filterField, value) => {\n  if (filterField == ItemKeys.date) {\n    if (!checkDateFormat(value)) return [];\n    console.log(1);\n    return allItems.filter(item => getStringFromDate(item[filterField]).includes(value));\n  }\n\n  return allItems.filter(item => String(item[filterField]).toLowerCase().includes(value));\n};\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField преобразованные к строке равняются value*/\n\nexport const itemFilterEquals = (allItems, filterField, value) => {\n  if (filterField == ItemKeys.date) {\n    if (!checkDateFormat(value)) return [];\n    return allItems.filter(item => getStringFromDate(item[filterField]) === value);\n  }\n\n  return allItems.filter(item => String(item[filterField]).toLowerCase() === value);\n};\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField больше, чем value*/\n\nexport const itemFilterMore = (allItems, filterField, value) => {\n  if (filterField === ItemKeys.distance || filterField === ItemKeys.quantity) {\n    if (isNaN(Number(value))) return [];\n    return allItems.filter(item => item[filterField] > Number(value));\n  }\n\n  if (filterField === ItemKeys.date) {\n    if (!checkDateFormat(value)) return [];\n    return allItems.filter(item => item.date < getDateFromString(value));\n  }\n\n  return allItems.filter(item => String(item[filterField]).toLowerCase() > value);\n};\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField меньше, чем value*/\n\nexport const itemFilterLess = (allItems, filterField, value) => {\n  if (filterField === ItemKeys.distance || filterField === ItemKeys.quantity) {\n    if (isNaN(Number(value))) return [];\n    return allItems.filter(item => item[filterField] < Number(value));\n  }\n\n  if (filterField === ItemKeys.date) {\n    if (!checkDateFormat(value)) return [];\n    return allItems.filter(item => item.date < getDateFromString(value));\n  }\n\n  return allItems.filter(item => String(item[filterField]).toLowerCase() < value);\n};\n\nconst itemFilter = (filterCondition, allItems, filterField, value) => {\n  switch (filterCondition) {\n    case \"equal\":\n      return itemFilterEquals(allItems, filterField, value);\n\n    case \"contains\":\n      return itemFilterContains(allItems, filterField, value);\n\n    case \"more\":\n      return itemFilterMore(allItems, filterField, value);\n\n    case \"less\":\n      return itemFilterLess(allItems, filterField, value);\n\n    default:\n      console.error('Неверное поле для фильтрации!');\n      return allItems;\n  }\n};\n\nexport default itemFilter;","map":{"version":3,"names":["ItemKeys","checkDateFormat","getDateFromString","getStringFromDate","itemFilterContains","allItems","filterField","value","date","console","log","filter","item","includes","String","toLowerCase","itemFilterEquals","itemFilterMore","distance","quantity","isNaN","Number","itemFilterLess","itemFilter","filterCondition","error"],"sources":["D:/Programming/Тестовые задания/kanalservis/client/src/utils/itemFilter.ts"],"sourcesContent":["import {ItemKeys, TItem} from \"../types\";\r\nimport {checkDateFormat, getDateFromString, getStringFromDate} from \"./index\";\r\n\r\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField преобразованные к строке, содержат в себе value*/\r\nexport const itemFilterContains = (allItems: TItem[], filterField: ItemKeys, value: string): TItem[] =>{\r\n    if (filterField == ItemKeys.date) {\r\n        if (!checkDateFormat(value)) return [];\r\n        console.log(1);\r\n        return allItems.filter((item) => getStringFromDate(item[filterField]).includes(value));\r\n    }\r\n    return allItems.filter((item) => String(item[filterField]).toLowerCase().includes(value));\r\n}\r\n\r\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField преобразованные к строке равняются value*/\r\nexport const itemFilterEquals = (allItems: TItem[], filterField: ItemKeys, value: string): TItem[] =>{\r\n    if (filterField == ItemKeys.date) {\r\n        if (!checkDateFormat(value)) return [];\r\n        return allItems.filter((item) => getStringFromDate(item[filterField]) === value);\r\n    }\r\n    return allItems.filter((item) => String(item[filterField]).toLowerCase() === value);\r\n}\r\n\r\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField больше, чем value*/\r\nexport const itemFilterMore = (allItems: TItem[], filterField: ItemKeys, value: string): TItem[] => {\r\n    if (filterField === ItemKeys.distance || filterField === ItemKeys.quantity) {\r\n        if (isNaN(Number(value))) return [];\r\n\r\n        return allItems.filter((item) => item[filterField] > Number(value))\r\n    }\r\n\r\n    if (filterField === ItemKeys.date) {\r\n        if (!checkDateFormat(value)) return [];\r\n\r\n        return allItems.filter((item) => item.date < getDateFromString(value))\r\n    }\r\n\r\n    return allItems.filter((item) => String(item[filterField]).toLowerCase() > value);\r\n}\r\n\r\n/* Возвращает новый массив: allItems отфильтрованный так, что\r\n* все элементы по полю filterField меньше, чем value*/\r\nexport const itemFilterLess = (allItems: TItem[], filterField: ItemKeys, value: string): TItem[] => {\r\n    if (filterField === ItemKeys.distance || filterField === ItemKeys.quantity) {\r\n        if (isNaN(Number(value))) return [];\r\n\r\n        return allItems.filter((item) => item[filterField] < Number(value));\r\n    }\r\n\r\n    if (filterField === ItemKeys.date) {\r\n        if (!checkDateFormat(value)) return [];\r\n\r\n        return allItems.filter((item) => item.date < getDateFromString(value));\r\n    }\r\n\r\n    return allItems.filter((item) => String(item[filterField]).toLowerCase() < value);\r\n}\r\n\r\nconst itemFilter = (filterCondition: string, allItems: TItem[], filterField: ItemKeys, value: string): TItem[] => {\r\n    switch (filterCondition) {\r\n        case \"equal\":\r\n            return itemFilterEquals(allItems, filterField, value);\r\n\r\n        case \"contains\":\r\n            return itemFilterContains(allItems, filterField, value);\r\n\r\n        case \"more\":\r\n            return itemFilterMore(allItems, filterField, value);\r\n\r\n        case \"less\":\r\n            return itemFilterLess(allItems, filterField, value);\r\n\r\n        default:\r\n            console.error('Неверное поле для фильтрации!')\r\n            return allItems;\r\n    }\r\n}\r\n\r\nexport default itemFilter;\r\n"],"mappings":"AAAA,SAAQA,QAAR,QAA8B,UAA9B;AACA,SAAQC,eAAR,EAAyBC,iBAAzB,EAA4CC,iBAA5C,QAAoE,SAApE;AAEA;AACA;;AACA,OAAO,MAAMC,kBAAkB,GAAG,CAACC,QAAD,EAAoBC,WAApB,EAA2CC,KAA3C,KAAqE;EACnG,IAAID,WAAW,IAAIN,QAAQ,CAACQ,IAA5B,EAAkC;IAC9B,IAAI,CAACP,eAAe,CAACM,KAAD,CAApB,EAA6B,OAAO,EAAP;IAC7BE,OAAO,CAACC,GAAR,CAAY,CAAZ;IACA,OAAOL,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUT,iBAAiB,CAACS,IAAI,CAACN,WAAD,CAAL,CAAjB,CAAqCO,QAArC,CAA8CN,KAA9C,CAA1B,CAAP;EACH;;EACD,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUE,MAAM,CAACF,IAAI,CAACN,WAAD,CAAL,CAAN,CAA0BS,WAA1B,GAAwCF,QAAxC,CAAiDN,KAAjD,CAA1B,CAAP;AACH,CAPM;AASP;AACA;;AACA,OAAO,MAAMS,gBAAgB,GAAG,CAACX,QAAD,EAAoBC,WAApB,EAA2CC,KAA3C,KAAqE;EACjG,IAAID,WAAW,IAAIN,QAAQ,CAACQ,IAA5B,EAAkC;IAC9B,IAAI,CAACP,eAAe,CAACM,KAAD,CAApB,EAA6B,OAAO,EAAP;IAC7B,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUT,iBAAiB,CAACS,IAAI,CAACN,WAAD,CAAL,CAAjB,KAAyCC,KAAnE,CAAP;EACH;;EACD,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUE,MAAM,CAACF,IAAI,CAACN,WAAD,CAAL,CAAN,CAA0BS,WAA1B,OAA4CR,KAAtE,CAAP;AACH,CANM;AAQP;AACA;;AACA,OAAO,MAAMU,cAAc,GAAG,CAACZ,QAAD,EAAoBC,WAApB,EAA2CC,KAA3C,KAAsE;EAChG,IAAID,WAAW,KAAKN,QAAQ,CAACkB,QAAzB,IAAqCZ,WAAW,KAAKN,QAAQ,CAACmB,QAAlE,EAA4E;IACxE,IAAIC,KAAK,CAACC,MAAM,CAACd,KAAD,CAAP,CAAT,EAA0B,OAAO,EAAP;IAE1B,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUA,IAAI,CAACN,WAAD,CAAJ,GAAoBe,MAAM,CAACd,KAAD,CAApD,CAAP;EACH;;EAED,IAAID,WAAW,KAAKN,QAAQ,CAACQ,IAA7B,EAAmC;IAC/B,IAAI,CAACP,eAAe,CAACM,KAAD,CAApB,EAA6B,OAAO,EAAP;IAE7B,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUA,IAAI,CAACJ,IAAL,GAAYN,iBAAiB,CAACK,KAAD,CAAvD,CAAP;EACH;;EAED,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUE,MAAM,CAACF,IAAI,CAACN,WAAD,CAAL,CAAN,CAA0BS,WAA1B,KAA0CR,KAApE,CAAP;AACH,CAdM;AAgBP;AACA;;AACA,OAAO,MAAMe,cAAc,GAAG,CAACjB,QAAD,EAAoBC,WAApB,EAA2CC,KAA3C,KAAsE;EAChG,IAAID,WAAW,KAAKN,QAAQ,CAACkB,QAAzB,IAAqCZ,WAAW,KAAKN,QAAQ,CAACmB,QAAlE,EAA4E;IACxE,IAAIC,KAAK,CAACC,MAAM,CAACd,KAAD,CAAP,CAAT,EAA0B,OAAO,EAAP;IAE1B,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUA,IAAI,CAACN,WAAD,CAAJ,GAAoBe,MAAM,CAACd,KAAD,CAApD,CAAP;EACH;;EAED,IAAID,WAAW,KAAKN,QAAQ,CAACQ,IAA7B,EAAmC;IAC/B,IAAI,CAACP,eAAe,CAACM,KAAD,CAApB,EAA6B,OAAO,EAAP;IAE7B,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUA,IAAI,CAACJ,IAAL,GAAYN,iBAAiB,CAACK,KAAD,CAAvD,CAAP;EACH;;EAED,OAAOF,QAAQ,CAACM,MAAT,CAAiBC,IAAD,IAAUE,MAAM,CAACF,IAAI,CAACN,WAAD,CAAL,CAAN,CAA0BS,WAA1B,KAA0CR,KAApE,CAAP;AACH,CAdM;;AAgBP,MAAMgB,UAAU,GAAG,CAACC,eAAD,EAA0BnB,QAA1B,EAA6CC,WAA7C,EAAoEC,KAApE,KAA+F;EAC9G,QAAQiB,eAAR;IACI,KAAK,OAAL;MACI,OAAOR,gBAAgB,CAACX,QAAD,EAAWC,WAAX,EAAwBC,KAAxB,CAAvB;;IAEJ,KAAK,UAAL;MACI,OAAOH,kBAAkB,CAACC,QAAD,EAAWC,WAAX,EAAwBC,KAAxB,CAAzB;;IAEJ,KAAK,MAAL;MACI,OAAOU,cAAc,CAACZ,QAAD,EAAWC,WAAX,EAAwBC,KAAxB,CAArB;;IAEJ,KAAK,MAAL;MACI,OAAOe,cAAc,CAACjB,QAAD,EAAWC,WAAX,EAAwBC,KAAxB,CAArB;;IAEJ;MACIE,OAAO,CAACgB,KAAR,CAAc,+BAAd;MACA,OAAOpB,QAAP;EAfR;AAiBH,CAlBD;;AAoBA,eAAekB,UAAf"},"metadata":{},"sourceType":"module"}