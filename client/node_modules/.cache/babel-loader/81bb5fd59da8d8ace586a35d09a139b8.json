{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\\\u0422\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u044F\\\\kanalservis\\\\client\\\\src\\\\components\\\\FilterFieldTh.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo } from 'react';\nimport \"../styles/FilterFieldTh.scss\";\nimport { useDispatch } from \"react-redux\";\nimport { setSortFieldActionCreator, setSortReverseActionCreator } from \"../store/actionCreators/items\";\nimport { useTypeSelector } from \"../hooks/useTypeSelector\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FilterFieldTh = _ref => {\n  _s();\n\n  let {\n    text,\n    value\n  } = _ref;\n  const sortField = useTypeSelector(state => state.items.sortField);\n  const sortReverse = useTypeSelector(state => state.items.sortReverse);\n  const dispatch = useDispatch();\n\n  const onClick = () => {\n    if (sortField === value) {\n      dispatch(setSortReverseActionCreator(!sortReverse));\n    } else {\n      dispatch(setSortFieldActionCreator(value));\n      dispatch(setSortReverseActionCreator(false));\n    }\n  };\n\n  const arrowDirection = useMemo(() => {\n    if (sortField !== value) return \"\";\n    return sortReverse ? \"_up\" : \"_down\";\n  }, [sortField, sortReverse]); // TODO: indication of chosen sort field\n\n  return /*#__PURE__*/_jsxDEV(\"th\", {\n    className: \"FilterFieldTh\",\n    onClick: onClick,\n    children: [text, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `FilterFieldTh__arrow ${arrowDirection}`,\n      children: \"\\u25C0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 64\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FilterFieldTh, \"n+2ndbt8FvdiInc6sAT2WMJLqNk=\", false, function () {\n  return [useTypeSelector, useTypeSelector, useDispatch];\n});\n\n_c = FilterFieldTh;\nexport default FilterFieldTh;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterFieldTh\");","map":{"version":3,"names":["React","useMemo","useDispatch","setSortFieldActionCreator","setSortReverseActionCreator","useTypeSelector","FilterFieldTh","text","value","sortField","state","items","sortReverse","dispatch","onClick","arrowDirection"],"sources":["D:/Programming/Тестовые задания/kanalservis/client/src/components/FilterFieldTh.tsx"],"sourcesContent":["import React, {FC, useMemo} from 'react';\r\nimport \"../styles/FilterFieldTh.scss\";\r\nimport {ItemKeys} from \"../types\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setSortFieldActionCreator, setSortReverseActionCreator} from \"../store/actionCreators/items\";\r\nimport {useTypeSelector} from \"../hooks/useTypeSelector\";\r\n\r\ninterface FilterFieldThProps {\r\n    text: string,\r\n    value: ItemKeys\r\n}\r\n\r\nconst FilterFieldTh: FC<FilterFieldThProps> = ({text, value}) => {\r\n    const sortField = useTypeSelector(state => state.items.sortField);\r\n    const sortReverse = useTypeSelector(state => state.items.sortReverse);\r\n    const dispatch = useDispatch();\r\n\r\n    const onClick = (): void => {\r\n        if (sortField === value) {\r\n            dispatch(setSortReverseActionCreator(!sortReverse));\r\n        } else {\r\n            dispatch(setSortFieldActionCreator(value));\r\n            dispatch(setSortReverseActionCreator(false));\r\n        }\r\n    }\r\n\r\n    const arrowDirection = useMemo<string>(() => {\r\n        if (sortField !== value) return \"\";\r\n        return sortReverse ? \"_up\" : \"_down\"\r\n    }, [sortField, sortReverse])\r\n\r\n    // TODO: indication of chosen sort field\r\n    return (\r\n        <th className=\"FilterFieldTh\" onClick={onClick}>{text} <span className={`FilterFieldTh__arrow ${arrowDirection}`}>◀</span></th>\r\n    );\r\n};\r\n\r\nexport default FilterFieldTh;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAmBC,OAAnB,QAAiC,OAAjC;AACA,OAAO,8BAAP;AAEA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,yBAAR,EAAmCC,2BAAnC,QAAqE,+BAArE;AACA,SAAQC,eAAR,QAA8B,0BAA9B;;;AAOA,MAAMC,aAAqC,GAAG,QAAmB;EAAA;;EAAA,IAAlB;IAACC,IAAD;IAAOC;EAAP,CAAkB;EAC7D,MAAMC,SAAS,GAAGJ,eAAe,CAACK,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYF,SAAtB,CAAjC;EACA,MAAMG,WAAW,GAAGP,eAAe,CAACK,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,WAAtB,CAAnC;EACA,MAAMC,QAAQ,GAAGX,WAAW,EAA5B;;EAEA,MAAMY,OAAO,GAAG,MAAY;IACxB,IAAIL,SAAS,KAAKD,KAAlB,EAAyB;MACrBK,QAAQ,CAACT,2BAA2B,CAAC,CAACQ,WAAF,CAA5B,CAAR;IACH,CAFD,MAEO;MACHC,QAAQ,CAACV,yBAAyB,CAACK,KAAD,CAA1B,CAAR;MACAK,QAAQ,CAACT,2BAA2B,CAAC,KAAD,CAA5B,CAAR;IACH;EACJ,CAPD;;EASA,MAAMW,cAAc,GAAGd,OAAO,CAAS,MAAM;IACzC,IAAIQ,SAAS,KAAKD,KAAlB,EAAyB,OAAO,EAAP;IACzB,OAAOI,WAAW,GAAG,KAAH,GAAW,OAA7B;EACH,CAH6B,EAG3B,CAACH,SAAD,EAAYG,WAAZ,CAH2B,CAA9B,CAd6D,CAmB7D;;EACA,oBACI;IAAI,SAAS,EAAC,eAAd;IAA8B,OAAO,EAAEE,OAAvC;IAAA,WAAiDP,IAAjD,oBAAuD;MAAM,SAAS,EAAG,wBAAuBQ,cAAe,EAAxD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAvD;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAGH,CAvBD;;GAAMT,a;UACgBD,e,EACEA,e,EACHH,W;;;KAHfI,a;AAyBN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}